<script src="https://cdn.bootcss.com/flv.js/1.4.0/flv.min.js"></script>
<video id="videoElement" style="width: 100%; height: 100%;"></video>
<button onclick="flvPlayer.play();">Play</button>
<script>
    if (flvjs.isSupported()) {
        var videoElement = document.getElementById('videoElement');
        var flvPlayer = flvjs.createPlayer({
            type: 'flv',
            isLive: true,
            url: 'http://localhost:8000/live/live.flv',
            hasVideo: true,
            hasAudio: true,
        });
        flvPlayer.attachMediaElement(videoElement);
        flvPlayer.load();
        flvPlayer.play();

        flvPlayer.on(flvjs.Events.ERROR, () => {
            console.log('ERROR WAS THROWN!');
            reloadPlayer();
        });

        flvPlayer.on(flvjs.Events.LOADING_COMPLETE, () => {
            console.log('LOADING COMPLETE WAS THROWN!');
            reloadPlayer();
        });

        function reloadPlayer() {
            flvPlayer.unload();
            flvPlayer.detachMediaElement();
            flvPlayer.attachMediaElement(videoElement);
            flvPlayer.load();
            // the play request is a deferred promise that will wait until the source exists again
            flvPlayer.play();
        }
    }


</script>